{"version":3,"file":"index.js","sources":["../src/js/work-together.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const form = document.querySelector('.contact-form');\n  const emailInput = document.querySelector('.contact-input');\n  const messageInput = document.querySelector('.contact-textarea');\n  const submitButton = document.querySelector('.contact-btn');\n  const modal = document.querySelector('.confirmation-modal-overlay');\n  const closeModalButton = document.querySelector('.close-confirmation-btn');\n  const errorMessage = document.querySelector('.message');\n  const iconValid = document.querySelector('.filled-icon');\n\n  const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  function openModal() {\n    modal.classList.add('is-open');\n  }\n\n  function closeModal() {\n    modal.classList.remove('is-open');\n  }\n\n  emailInput.addEventListener('blur', function () {\n    if (!emailPattern.test(emailInput.value)) {\n      emailInput.classList.remove('valid');\n      emailInput.classList.add('invalid');\n      errorMessage.classList.remove('valid');\n      errorMessage.classList.add('invalid');\n      iconValid.classList.add('invalid');\n    } else {\n      emailInput.classList.add('valid');\n      emailInput.classList.remove('invalid');\n      errorMessage.classList.add('valid');\n      errorMessage.classList.remove('invalid');\n      iconValid.classList.remove('invalid');\n    }\n  });\n\n  form.addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    if (!emailPattern.test(emailInput.value)) {\n      emailInput.classList.add('invalid');\n      emailInput.classList.remove('valid');\n      return;\n    }\n\n    const formData = new FormData(form);\n    const data = {\n      email: formData.get('email'),\n      comment: formData.get('message'),\n    };\n\n    if (!data.comment || data.comment.trim() === '') {\n      console.error('Comment is empty!');\n      return;\n    }\n\n    fetch('https://portfolio-js.b.goit.study/api/requests', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.title) {\n          openModal();\n          form.reset();\n        } else {\n          console.log('Response data did not contain title:', data);\n        }\n      })\n      .catch(error => {\n        console.error('Error:', error);\n      });\n  });\n\n  closeModalButton.addEventListener('click', closeModal);\n  modal.addEventListener('click', function (event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape' || event.key === 'Esc') {\n      closeModal();\n    }\n  });\n});\n"],"names":["form","emailInput","modal","closeModalButton","errorMessage","iconValid","emailPattern","openModal","closeModal","event","formData","data","response","error"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAa,SAAS,cAAc,gBAAgB,EACrC,SAAS,cAAc,mBAAmB,EAC1C,SAAS,cAAc,cAAc,EAC1D,MAAMC,EAAQ,SAAS,cAAc,6BAA6B,EAC5DC,EAAmB,SAAS,cAAc,yBAAyB,EACnEC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAY,SAAS,cAAc,cAAc,EAEjDC,EAAe,2CAErB,SAASC,GAAY,CACnBL,EAAM,UAAU,IAAI,SAAS,CAC9B,CAED,SAASM,GAAa,CACpBN,EAAM,UAAU,OAAO,SAAS,CACjC,CAEDD,EAAW,iBAAiB,OAAQ,UAAY,CACzCK,EAAa,KAAKL,EAAW,KAAK,GAOrCA,EAAW,UAAU,IAAI,OAAO,EAChCA,EAAW,UAAU,OAAO,SAAS,EACrCG,EAAa,UAAU,IAAI,OAAO,EAClCA,EAAa,UAAU,OAAO,SAAS,EACvCC,EAAU,UAAU,OAAO,SAAS,IAVpCJ,EAAW,UAAU,OAAO,OAAO,EACnCA,EAAW,UAAU,IAAI,SAAS,EAClCG,EAAa,UAAU,OAAO,OAAO,EACrCA,EAAa,UAAU,IAAI,SAAS,EACpCC,EAAU,UAAU,IAAI,SAAS,EAQvC,CAAG,EAEDL,EAAK,iBAAiB,SAAU,SAAUS,EAAO,CAG/C,GAFAA,EAAM,eAAc,EAEhB,CAACH,EAAa,KAAKL,EAAW,KAAK,EAAG,CACxCA,EAAW,UAAU,IAAI,SAAS,EAClCA,EAAW,UAAU,OAAO,OAAO,EACnC,MACD,CAED,MAAMS,EAAW,IAAI,SAASV,CAAI,EAC5BW,EAAO,CACX,MAAOD,EAAS,IAAI,OAAO,EAC3B,QAASA,EAAS,IAAI,SAAS,CACrC,EAEI,GAAI,CAACC,EAAK,SAAWA,EAAK,QAAQ,KAAM,IAAK,GAAI,CAC/C,QAAQ,MAAM,mBAAmB,EACjC,MACD,CAED,MAAM,iDAAkD,CACtD,OAAQ,OACR,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,KAAK,UAAUA,CAAI,CAC/B,CAAK,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKD,GAAQ,CACRA,EAAK,OACPJ,IACAP,EAAK,MAAK,GAEV,QAAQ,IAAI,uCAAwCW,CAAI,CAElE,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACrC,CAAO,CACP,CAAG,EAEDV,EAAiB,iBAAiB,QAASK,CAAU,EACrDN,EAAM,iBAAiB,QAAS,SAAUO,EAAO,CAC3CA,EAAM,SAAWP,GACnBM,GAEN,CAAG,EAED,SAAS,iBAAiB,UAAW,SAAUC,EAAO,EAChDA,EAAM,MAAQ,UAAYA,EAAM,MAAQ,QAC1CD,GAEN,CAAG,CACH,CAAC"}