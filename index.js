import{S as v}from"./assets/vendor-FHk8j_P3.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const i=document.querySelector(".contact-form"),t=document.querySelector(".contact-input"),a=document.querySelector(".contact-textarea");document.querySelector(".contact-btn");const s=document.querySelector(".confirmation-modal-overlay"),e=document.querySelector(".close-confirmation-btn"),o=document.querySelector(".message"),r=document.querySelector(".filled-icon"),u=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function f(){s.classList.add("is-open")}function l(){s.classList.remove("is-open")}localStorage.getItem("email")&&(t.value=localStorage.getItem("email")),localStorage.getItem("message")&&(a.value=localStorage.getItem("message")),t.addEventListener("input",function(){localStorage.setItem("email",t.value)}),a.addEventListener("input",function(){localStorage.setItem("message",a.value)}),t.addEventListener("blur",function(){u.test(t.value)?(t.classList.add("valid"),t.classList.remove("invalid"),o.classList.add("valid"),o.classList.remove("invalid"),r.classList.remove("invalid")):(t.classList.remove("valid"),t.classList.add("invalid"),o.classList.remove("valid"),o.classList.add("invalid"),r.classList.add("invalid"))}),i.addEventListener("submit",async function(n){if(n.preventDefault(),!u.test(t.value)){t.classList.add("invalid"),t.classList.remove("valid");return}const m=new FormData(i),d={email:m.get("email"),comment:m.get("message")};if(!(!d.comment||d.comment.trim()===""))try{const c=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);(await c.json()).title&&(f(),i.reset(),localStorage.removeItem("email"),localStorage.removeItem("message"),r.classList.add("invalid"))}catch{v.fire({icon:"error",title:"Oops...",text:"Something went wrong!",confirmButtonColor:"#00b068"})}}),e.addEventListener("click",l),s.addEventListener("click",function(n){n.target===s&&l()}),document.addEventListener("keydown",function(n){(n.key==="Escape"||n.key==="Esc")&&l()})});
//# sourceMappingURL=index.js.map
